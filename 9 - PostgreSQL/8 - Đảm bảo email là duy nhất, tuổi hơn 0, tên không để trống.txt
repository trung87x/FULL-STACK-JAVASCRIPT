# Ng·ªØ c·∫£nh 8: ƒê·∫£m b·∫£o email l√† duy nh·∫•t, tu·ªïi > 0, t√™n kh√¥ng ƒë·ªÉ tr·ªëng

üß† Model (√ù nghƒ©a d·ªØ li·ªáu & quan h·ªá)
- ƒê·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu ·ªü m·ª©c c∆° s·ªü d·ªØ li·ªáu:
  - Email kh√¥ng ƒë∆∞·ª£c tr√πng nhau (UNIQUE)
  - Tu·ªïi ph·∫£i l·ªõn h∆°n 0 (CHECK)
  - T√™n b·∫Øt bu·ªôc ph·∫£i c√≥ (NOT NULL)

üõ†Ô∏è Controller (SQL)

-- T·∫°o b·∫£ng users v·ªõi c√°c r√†ng bu·ªôc
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,               -- Kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng
  age INTEGER CHECK (age > 0),              -- Ph·∫£i l·ªõn h∆°n 0
  email VARCHAR(100) UNIQUE NOT NULL,       -- Kh√¥ng tr√πng v√† kh√¥ng null
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Th·ª≠ th√™m ng∆∞·ªùi d√πng h·ª£p l·ªá
INSERT INTO users (name, age, email)
VALUES ('Trung ƒêinh', 28, 'trung@example.com');

-- ‚ùå L·ªói: t√™n b·ªã null
INSERT INTO users (age, email)
VALUES (30, 'user1@example.com');

-- ‚ùå L·ªói: tu·ªïi <= 0
INSERT INTO users (name, age, email)
VALUES ('User 2', -5, 'user2@example.com');

-- ‚ùå L·ªói: email tr√πng
INSERT INTO users (name, age, email)
VALUES ('User 3', 25, 'trung@example.com');

üìò Ghi ch√∫:
- `NOT NULL`: b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã
- `UNIQUE`: kh√¥ng ƒë∆∞·ª£c ph√©p tr√πng l·∫∑p gi√° tr·ªã trong to√†n b·∫£ng
- `CHECK`: gi·ªõi h·∫°n logic cho d·ªØ li·ªáu ƒë·∫ßu v√†o
- Nh·ªØng r√†ng bu·ªôc n√†y n√™n ƒë·∫∑t ngay trong l√∫c thi·∫øt k·∫ø b·∫£ng ƒë·ªÉ tr√°nh l·ªói logic ·ªü t·∫ßng ·ª©ng d·ª•ng

