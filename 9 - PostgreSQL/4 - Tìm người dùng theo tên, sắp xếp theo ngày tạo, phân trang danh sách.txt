# Ng·ªØ c·∫£nh 4: T√¨m ng∆∞·ªùi d√πng theo t√™n, s·∫Øp x·∫øp theo ng√†y t·∫°o, ph√¢n trang danh s√°ch

üß† Model (√ù nghƒ©a d·ªØ li·ªáu & quan h·ªá)
- Truy v·∫•n c√≥ ƒëi·ªÅu ki·ªán, s·∫Øp x·∫øp v√† ph√¢n trang l√† k·ªπ thu·∫≠t ph·ªï bi·∫øn ƒë·ªÉ x·ª≠ l√Ω d·ªØ li·ªáu l·ªõn:
  - T√¨m ng∆∞·ªùi d√πng c√≥ t√™n kh·ªõp t·ª´ kho√°.
  - S·∫Øp x·∫øp theo th·ªùi gian t·∫°o m·ªõi nh·∫•t.
  - Ph√¢n trang k·∫øt qu·∫£: LIMIT & OFFSET.

üõ†Ô∏è Controller (SQL)

-- T·∫°o b·∫£ng ng∆∞·ªùi d√πng (n·∫øu ch∆∞a c√≥)
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Truy v·∫•n ng∆∞·ªùi d√πng c√≥ t√™n ch·ª©a t·ª´ kho√° 'trung'
SELECT *
FROM users
WHERE name ILIKE '%trung%';

-- Truy v·∫•n ng∆∞·ªùi d√πng v√† s·∫Øp x·∫øp theo th·ªùi gian t·∫°o (m·ªõi nh·∫•t tr∆∞·ªõc)
SELECT *
FROM users
ORDER BY created_at DESC;

-- Ph√¢n trang: l·∫•y 10 ng∆∞·ªùi d√πng, b·∫Øt ƒë·∫ßu t·ª´ b·∫£n ghi th·ª© 0
SELECT *
FROM users
ORDER BY created_at DESC
LIMIT 10 OFFSET 0;

-- V√≠ d·ª•: Trang 2 (b·∫Øt ƒë·∫ßu t·ª´ b·∫£n ghi th·ª© 10)
SELECT *
FROM users
ORDER BY created_at DESC
LIMIT 10 OFFSET 10;

üìò Ghi ch√∫:
- `ILIKE`: t√¨m ki·∫øm kh√¥ng ph√¢n bi·ªát ch·ªØ hoa/th∆∞·ªùng (PostgreSQL)
- `ORDER BY created_at DESC`: s·∫Øp x·∫øp m·ªõi nh·∫•t l√™n tr∆∞·ªõc
- `LIMIT`: gi·ªõi h·∫°n s·ªë b·∫£n ghi tr·∫£ v·ªÅ
- `OFFSET`: b·ªè qua s·ªë b·∫£n ghi ƒë·∫ßu (d√πng cho ph√¢n trang)
- Ph√¢n trang = LIMIT + OFFSET (v√≠ d·ª•: LIMIT 10 OFFSET 20 ‚Üí trang 3 n·∫øu m·ªói trang 10 b·∫£n ghi)

